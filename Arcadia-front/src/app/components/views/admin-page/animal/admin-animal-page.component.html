<h3>Liste des Animaux</h3>

<button
  type="button"
  class="btn btn-primary add-button"
  data-bs-toggle="modal"
  data-bs-target="#addAnimal"
>
  Ajouter un nouvel élément
</button>
<app-add-animal-form (onSubmit)="add($event)"></app-add-animal-form>

<table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Name</th>
      <th scope="col">Race</th>
      <th scope="col">Habitat Associé</th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    @for(element of list; track $index) {
    <tr>
      <td scope="row">{{ $index + 1 }}</td>
      <td>{{ element.name }}</td>
      <td>{{ element.race }}</td>
      <td>{{ element.associatedHabitatTitle }}</td>
      <td>
        <button
          type="button"
          class="btn btn-link edit-button"
          data-bs-toggle="modal"
          [attr.data-bs-target]="'#editAnimal' + element.id"
        >
          Editer
        </button>
        <app-edit-animal-form
          [selectedAnimal]="element"
          (onSubmit)="edit($event)"
        ></app-edit-animal-form>

        <button
          type="button"
          class="btn btn-link delete-button"
          data-bs-toggle="modal"
          [attr.data-bs-target]="'#confirmationModal' + element.id"
        >
          Supprimer
        </button>
        <app-confirmation-modal
          [id]="element.id"
          (confirmationSent)="delete(element.id ?? 0)"
        ></app-confirmation-modal>
      </td>
    </tr>
    }
  </tbody>
</table>
